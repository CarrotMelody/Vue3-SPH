"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[433],{7433:function(a,e,r){r.r(e),r.d(e,{default:function(){return ta}});var s=r(5285),t=r(9311),c=r(3396),i=r(7139),l=r(9242);const o=a=>((0,c.dD)("data-v-17c5eec8"),a=a(),(0,c.Cn)(),a),n={class:"main"},d={class:"py-container"},m={class:"bread"},g=o((()=>(0,c._)("ul",{class:"fl sui-breadcrumb"},[(0,c._)("li",null,[(0,c._)("a",{href:"#"},"全部结果")])],-1))),u={class:"fl sui-tag"},h={key:0,class:"with-x"},v={key:1,class:"with-x"},p={key:2,class:"with-x"},k=["onClick"],w={class:"details clearfix"},_={class:"sui-navbar"},y={class:"navbar-inner filter"},f={class:"sui-nav"},P=(0,c.Uk)("综合 "),I=(0,c.Uk)("价格 "),b={class:"goods-list"},C={class:"yui3-g"},N={class:"list-wrap"},D={class:"p-img"},L={class:"price"},x=o((()=>(0,c._)("em",null,"¥ ",-1))),O={class:"attr"},S={target:"_blank",href:"item.html",title:"促销信息，下单即赠送三个月CIBN视频会员卡！【小米电视新品4A 58 火爆预约中】"},z=(0,c.uE)('<div class="commit" data-v-17c5eec8><i class="command" data-v-17c5eec8>已有<span data-v-17c5eec8>2000</span>人评价</i></div><div class="operate" data-v-17c5eec8><a href="success-cart.html" target="_blank" class="sui-btn btn-bordered btn-danger" data-v-17c5eec8>加入购物车</a><a href="javascript:void(0);" class="sui-btn btn-bordered" data-v-17c5eec8>收藏</a></div>',2);function F(a,e,r,o,F,j){const q=t.Z,$=(0,c.up)("SearchSelector"),A=(0,c.up)("router-link"),K=s.Z,T=(0,c.Q2)("lazy");return(0,c.wg)(),(0,c.iD)("div",null,[(0,c.Wm)(q),(0,c._)("div",n,[(0,c._)("div",d,[(0,c._)("div",m,[g,(0,c._)("ul",u,[o.searchParams.categoryName?((0,c.wg)(),(0,c.iD)("li",h,[(0,c.Uk)((0,i.zw)(o.searchParams.categoryName)+" ",1),(0,c._)("i",{onClick:e[0]||(e[0]=(...a)=>o.removeCategoryName&&o.removeCategoryName(...a))},"x")])):(0,c.kq)("",!0),o.searchParams.keyword?((0,c.wg)(),(0,c.iD)("li",v,[(0,c.Uk)((0,i.zw)(o.searchParams.keyword)+" ",1),(0,c._)("i",{onClick:e[1]||(e[1]=(...a)=>o.removeKeyword&&o.removeKeyword(...a))},"x")])):(0,c.kq)("",!0),o.searchParams.trademark?((0,c.wg)(),(0,c.iD)("li",p,[(0,c.Uk)((0,i.zw)(o.searchParams.trademark.split(":")[1])+" ",1),(0,c._)("i",{onClick:e[2]||(e[2]=(...a)=>o.removeTrademark&&o.removeTrademark(...a))},"x")])):(0,c.kq)("",!0),((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(o.searchParams.props,((a,e)=>((0,c.wg)(),(0,c.iD)("li",{class:"with-x",key:e},[(0,c.Uk)((0,i.zw)(a.split(":")[1])+" ",1),(0,c._)("i",{onClick:a=>o.removeAttr(e)},"x",8,k)])))),128))])]),(0,c.Wm)($,{onTrademarkInfo:o.trademarkInfo,onAttrInfo:o.attrInfo},null,8,["onTrademarkInfo","onAttrInfo"]),(0,c._)("div",w,[(0,c._)("div",_,[(0,c._)("div",y,[(0,c._)("ul",f,[(0,c._)("li",{class:(0,i.C_)({active:o.isOne}),onClick:e[3]||(e[3]=a=>o.changeOrder("1"))},[(0,c._)("a",null,[P,(0,c.wy)((0,c._)("span",{class:(0,i.C_)(["iconfont",{"icon-long-arrow-down":o.isDesc,"icon-long-arrow-up":o.isAsc}])},null,2),[[l.F8,o.isOne]])])],2),(0,c._)("li",{class:(0,i.C_)({active:o.isTwo}),onClick:e[4]||(e[4]=a=>o.changeOrder("2"))},[(0,c._)("a",null,[I,(0,c.wy)((0,c._)("span",{class:(0,i.C_)(["iconfont",{"icon-long-arrow-down":o.isDesc,"icon-long-arrow-up":o.isAsc}])},null,2),[[l.F8,o.isTwo]])])],2)])])]),(0,c._)("div",b,[(0,c._)("ul",C,[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(o.goodsList,((a,e)=>((0,c.wg)(),(0,c.iD)("li",{class:"yui3-u-1-5",key:e},[(0,c._)("div",N,[(0,c._)("div",D,[(0,c.Wm)(A,{to:`/detail/${a.id}`},{default:(0,c.w5)((()=>[(0,c.wy)((0,c._)("img",null,null,512),[[T,a.defaultImg]])])),_:2},1032,["to"])]),(0,c._)("div",L,[(0,c._)("strong",null,[x,(0,c._)("i",null,(0,i.zw)(a.price),1)])]),(0,c._)("div",O,[(0,c._)("a",S,(0,i.zw)(a.title),1)]),z])])))),128))])]),(0,c.Wm)(K,{pageNo:o.searchParams.pageNo,pageSize:o.searchParams.pageSize,total:o.searchList.total,continues:5,onGetPageNo:o.getPageNo},null,8,["pageNo","pageSize","total","onGetPageNo"])])])])])}r(6699);var j=r(4870),q=r(678),$=r(65),A=r(3098);const K=a=>((0,c.dD)("data-v-58c6569a"),a=a(),(0,c.Cn)(),a),T={class:"clearfix selector"},H={class:"type-wrap logo"},U=K((()=>(0,c._)("div",{class:"fl key brand"},"品牌",-1))),Y={class:"value logos"},Z={class:"logo-list"},W=["onClick"],E=K((()=>(0,c._)("div",{class:"ext"},[(0,c._)("a",{href:"javascript:void(0);",class:"sui-btn"},"多选"),(0,c._)("a",{href:"javascript:void(0);"},"更多")],-1))),G={class:"fl key"},R={class:"fl value"},B={class:"type-list"},Q=["onClick"],V=K((()=>(0,c._)("div",{class:"fl ext"},null,-1)));function J(a,e,r,s,t,l){return(0,c.wg)(),(0,c.iD)("div",T,[(0,c._)("div",H,[U,(0,c._)("div",Y,[(0,c._)("ul",Z,[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(s.trademarkList,(a=>((0,c.wg)(),(0,c.iD)("li",{key:a.tmId,onClick:e=>s.trademarkHandler(a)},(0,i.zw)(a.tmName),9,W)))),128))])]),E]),((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(s.attrsList,(a=>((0,c.wg)(),(0,c.iD)("div",{class:"type-wrap",key:a.attrId},[(0,c._)("div",G,(0,i.zw)(a.attrName),1),(0,c._)("div",R,[(0,c._)("ul",B,[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(a.attrValueList,((e,r)=>((0,c.wg)(),(0,c.iD)("li",{key:r,onClick:r=>s.attrInfo(a,e)},[(0,c._)("a",null,(0,i.zw)(e),1)],8,Q)))),128))])]),V])))),128))])}var M={name:"SearchSelector",setup(a,e){const r=(0,$.oR)(),s=a=>{e.emit("trademarkInfo",a)},t=(a,r)=>{e.emit("attrInfo",a,r)};return{trademarkList:(0,c.Fl)((()=>r.getters.trademarkList)),attrsList:(0,c.Fl)((()=>r.getters.attrsList)),trademarkHandler:s,attrInfo:t}}},X=r(89);const aa=(0,X.Z)(M,[["render",J],["__scopeId","data-v-58c6569a"]]);var ea=aa,ra={name:"Search",components:{SearchSelector:ea},setup(){const a=(0,$.oR)(),e=(0,q.yj)(),r=(0,q.tv)(),s=(0,j.qj)({searchParams:{category1Id:"",category2Id:"",category3Id:"",categoryName:"",keyword:"",order:"1:desc",pageNo:1,pageSize:10,props:[],trademark:""}});(0,c.wF)((()=>{Object.assign(s.searchParams,e.query,e.params)}));const t=()=>{a.dispatch("getSearchList",s.searchParams)};(0,c.bv)((()=>{t()})),(0,c.YP)(e,((a,r)=>{Object.keys(s.searchParams).forEach((a=>{["category1Id","category2Id","category3Id","categoryName","keyword"].includes(a)&&(s.searchParams[a]=void 0)})),Object.assign(s.searchParams,e.query,e.params),t()}));const i=()=>{s.searchParams.categoryName=void 0,s.searchParams.category1Id=void 0,s.searchParams.category2Id=void 0,s.searchParams.category3Id=void 0,Object.keys(e.params).length?r.push({name:"Search",params:e.params}):r.push({name:"Search"})},l=()=>{s.searchParams.keyword=void 0,A.Z.emit("clear"),Object.keys(e.query).length?r.push({name:"Search",query:e.query}):r.push({name:"Search"})},o=a=>{s.searchParams.trademark=`${a.tmId}:${a.tmName}`,t()},n=()=>{s.searchParams.trademark=void 0,t()},d=(a,e)=>{let r=`${a.attrId}:${e}:${a.attrName}`;-1==s.searchParams.props.indexOf(r)&&s.searchParams.props.push(r),t()},m=a=>{s.searchParams.props.splice(a,1),t()},g=a=>{let e,r=s.searchParams.order,c=r.split(":")[0],i=r.split(":")[1];e=a===c?`${c}:${"desc"===i?"asc":"desc"}`:`${a}:desc`,s.searchParams.order=e,t()},u=a=>{s.searchParams.pageNo=a,t()};return{searchList:(0,c.Fl)((()=>a.state.search.searchList)),goodsList:(0,c.Fl)((()=>a.getters.goodsList)),trademarkList:(0,c.Fl)((()=>a.getters.trademarkList)),attrsList:(0,c.Fl)((()=>a.getters.attrsList)),searchParams:(0,c.Fl)((()=>s.searchParams)),removeCategoryName:i,removeKeyword:l,trademarkInfo:o,removeTrademark:n,attrInfo:d,removeAttr:m,isOne:(0,c.Fl)((()=>-1!==s.searchParams.order.indexOf("1"))),isTwo:(0,c.Fl)((()=>-1!==s.searchParams.order.indexOf("2"))),isAsc:(0,c.Fl)((()=>-1!==s.searchParams.order.indexOf("asc"))),isDesc:(0,c.Fl)((()=>-1!==s.searchParams.order.indexOf("desc"))),changeOrder:g,getPageNo:u}}};const sa=(0,X.Z)(ra,[["render",F],["__scopeId","data-v-17c5eec8"]]);var ta=sa}}]);