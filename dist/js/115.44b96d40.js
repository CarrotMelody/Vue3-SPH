"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[115],{115:function(a,e,s){s.r(e),s.d(e,{default:function(){return I}});var l=s(3396),d=s(7139);const r=a=>((0,l.dD)("data-v-af69b55a"),a=a(),(0,l.Cn)(),a),o={class:"register-container"},t={class:"register"},n=r((()=>(0,l._)("h3",null,[(0,l.Uk)(" 注册新用户 "),(0,l._)("span",{class:"go"},[(0,l.Uk)("我有账号，去 "),(0,l._)("a",{href:"login.html",target:"_blank"},"登陆")])],-1))),i={class:"content"},c=r((()=>(0,l._)("label",null,"手机号:",-1))),u={class:"error-msg"},p={class:"content"},m=r((()=>(0,l._)("label",null,"验证码:",-1))),v={class:"error-msg"},g={class:"content"},h=r((()=>(0,l._)("label",null,"登录密码:",-1))),w={class:"error-msg"},b={class:"content"},f=r((()=>(0,l._)("label",null,"确认密码:",-1))),_={class:"error-msg"},V={class:"controls"},k=r((()=>(0,l._)("span",null,"同意协议并注册《尚品汇用户协议》",-1))),C={class:"error-msg"},P={class:"btn"},y=(0,l.uE)('<div class="copyright" data-v-af69b55a><ul data-v-af69b55a><li data-v-af69b55a>关于我们</li><li data-v-af69b55a>联系我们</li><li data-v-af69b55a>联系客服</li><li data-v-af69b55a>商家入驻</li><li data-v-af69b55a>营销中心</li><li data-v-af69b55a>手机尚品汇</li><li data-v-af69b55a>销售联盟</li><li data-v-af69b55a>尚品汇社区</li></ul><div class="address" data-v-af69b55a>地址：北京市昌平区宏福科技园综合楼6层</div><div class="beian" data-v-af69b55a>京ICP备19006430号</div></div>',1);function R(a,e,s,r,R,F){const U=(0,l.up)("Field"),W=(0,l.up)("Form");return(0,l.wg)(),(0,l.iD)("div",o,[(0,l.Wm)(W,{ref:"registerForm",onSubmit:r.userRegister,"validation-schema":r.schema},{default:(0,l.w5)((({errors:a})=>[(0,l._)("div",t,[n,(0,l._)("div",i,[c,(0,l.Wm)(U,{name:"phone",placeholder:"请输入你的手机号",modelValue:r.data.phone,"onUpdate:modelValue":e[0]||(e[0]=a=>r.data.phone=a)},null,8,["modelValue"]),(0,l._)("span",u,(0,d.zw)(a.phone),1)]),(0,l._)("div",p,[m,(0,l.Wm)(U,{name:"code",placeholder:"请输入验证码",modelValue:r.data.code,"onUpdate:modelValue":e[1]||(e[1]=a=>r.data.code=a)},null,8,["modelValue"]),(0,l._)("button",{style:{width:"100px",height:"38px","margin-left":"10px"},onClick:e[2]||(e[2]=(...a)=>r.getCode&&r.getCode(...a))}," 獲取驗證碼 "),(0,l._)("span",v,(0,d.zw)(a.code),1)]),(0,l._)("div",g,[h,(0,l.Wm)(U,{name:"password",placeholder:"请输入你的登录密码",modelValue:r.data.password,"onUpdate:modelValue":e[3]||(e[3]=a=>r.data.password=a)},null,8,["modelValue"]),(0,l._)("span",w,(0,d.zw)(a.password),1)]),(0,l._)("div",b,[f,(0,l.Wm)(U,{type:"password",name:"rePassword",modelValue:r.data.rePassword,"onUpdate:modelValue":e[4]||(e[4]=a=>r.data.rePassword=a),placeholder:"请输入确认密码"},null,8,["modelValue"]),(0,l._)("span",_,(0,d.zw)(a.rePassword),1)]),(0,l._)("div",V,[(0,l.Wm)(U,{name:"agree",type:"checkbox",value:r.data.agree},null,8,["value"]),k,(0,l._)("span",C,(0,d.zw)(a.agree),1)]),(0,l._)("div",P,[(0,l._)("button",{onClick:e[5]||(e[5]=(...a)=>r.userRegister&&r.userRegister(...a))},"完成注册")])])])),_:1},8,["onSubmit","validation-schema"]),y])}var F=s(4870),U=s(65),W=s(678),q=s(5708),z={name:"Register",components:{Form:q.l0,Field:q.gN},setup(){const a=(0,U.oR)(),e=(0,W.tv)(),s=(0,F.iH)(null),l=(0,F.qj)({phone:"",code:"",password:"",rePassword:"",agree:!0}),d=async()=>{try{l.phone&&await a.dispatch("getCode",l.phone),l.code=a.state.user.code}catch(e){alert(e.message)}},r=async()=>{const d=await s.value.validate();if(d.valid)try{const{phone:s,code:d,password:r,rePassword:o}=l;s&&d&&r===o&&(await a.dispatch("userRegister",{phone:s,code:d,password:r,rePassword:o}),e.push("/login"))}catch(r){alert(r.message)}},o={phone:"required|phone",code:"required|code",password:"required|password",rePassword:"required|confirmed:password",agree:"agree"};return{data:l,getCode:d,userRegister:r,schema:o,registerForm:s}}},x=s(89);const D=(0,x.Z)(z,[["render",R],["__scopeId","data-v-af69b55a"]]);var I=D}}]);